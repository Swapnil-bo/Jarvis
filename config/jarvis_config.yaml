# ============================================================
# J.A.R.V.I.S. Configuration â€” Phase 1-4
# ============================================================
# Hardware: MacBook Air M1, 8GB Unified Memory
# Rule: Total runtime RAM must stay under 5.5GB (leave 2.5GB for macOS)
# ============================================================

system:
  project_name: "J.A.R.V.I.S."
  version: "0.1.0"
  log_level: "INFO"
  memory_warning_threshold_mb: 5500
  memory_critical_threshold_mb: 6500
  log_dir: "logs"

wake_word:
  engine: "stt"
  trigger_phrases:
    - "jarvis"
    - "jalvis"
    - "buddy"
    - "hey jarvis"
    - "hey jalvis"
    - "hey buddy"
    - "hi jarvis"
    - "hi jalvis"
    - "okay jarvis"
    - "okay jalvis"
  listen_duration_sec: 2.5
  stt_model: "mlx-community/whisper-base-mlx"

stt:
  engine: "mlx-whisper"
  model_size: "small"
  language: "en"

nlu:
  engine: "ollama"
  model: "phi3:mini"
  fallback_model: "llama3.2:3b"
  base_url: "http://localhost:11434"
  context_window: 2048
  temperature: 0.7
  max_tokens: 100
  system_prompt: |
    You are Jarvis, a personal AI assistant. You are a computer program, not a human.

    YOUR IDENTITY: You are Jarvis. You do NOT have a job, university, hobbies, or goals. You are software.

    YOUR USER: Your user is a person named Swapnil Hazra (nickname Sonu). When the user asks "who am I" or "what is my name", tell them about THEMSELVES using the facts provided below. Do NOT say "I am an engineer" because YOU are not an engineer. The USER is.

    RESPONSE RULES:
    - Speak in 1 to 2 short sentences maximum.
    - Write exactly as you would speak out loud. No markdown, no asterisks, no hashtags, no emojis.
    - Maintain a calm, professional, slightly dry British butler wit.
    - Call the user Sonu naturally but do not overuse it.
    - Never say "as an AI" or "as a language model" unless directly asked about your architecture.
    - Never mention "memory context" or "database" or "stored facts". Just answer naturally.
    - Never start a response with "Certain" or "Certainly".
    - Never adopt the users traits as your own. You are not an engineer, student, or coder.

tts:
  engine: "macos_say"
  macos_voice: "Daniel"
  macos_rate: 190

audio:
  sample_rate: 16000
  channels: 1
  dtype: "int16"
  chunk_duration_ms: 80
  silence_threshold: 30
  max_recording_seconds: 8
  min_recording_seconds: 2.0
  silence_duration_to_stop: 2.0
  pre_roll_chunks: 6

# ============================================================
# Phase 2: Memory & Context
# ============================================================
memory:
  enabled: true
  storage_dir: "~/.jarvis/memory"
  conversation:
    collection_name: "conversations"
    max_results: 3
    min_relevance_score: 0.4
    max_history: 1000
  profile:
    collection_name: "user_profile"
    max_facts: 50
  context_injection:
    max_memory_tokens: 300
    include_profile: true
    include_conversation: true

# ============================================================
# Phase 3: Tools & Actions
# ============================================================
tools:
  enabled: true
  system_info:
    weather_city: ""

# ============================================================
# Phase 4: Visual Dashboard
# ============================================================
dashboard:
  enabled: true
  port: 8765
  host: "localhost"
  debug: false
  template_dir: "templates"
  static_dir: "static"
  log_level: "INFO"
  log_dir: "logs"

# ============================================================
# Phase 5: Vision
# ============================================================
vision:
  vision_model: "llava-phi3"
  ollama_base_url: "http://localhost:11434"
  vision_timeout: 90