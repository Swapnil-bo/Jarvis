# ============================================================
# J.A.R.V.I.S. Configuration â€” Phase 1 + 2: Voice Core + Memory
# ============================================================
# Hardware: MacBook Air M1, 8GB Unified Memory
# Rule: Total runtime RAM must stay under 5.5GB (leave 2.5GB for macOS)
# ============================================================

system:
  project_name: "J.A.R.V.I.S."
  version: "0.1.0"
  log_level: "INFO"
  memory_warning_threshold_mb: 5500
  memory_critical_threshold_mb: 6500
  log_dir: "logs"

wake_word:
  engine: "stt"
  trigger_phrases:
    - "jarvis"
    - "jalvis"
    - "buddy"
    - "hey jarvis"
    - "hey jalvis"
    - "hey buddy"
    - "hi jarvis"
    - "hi jalvis"
    - "okay jarvis"
    - "okay jalvis"
  listen_duration_sec: 2.5
  stt_model: "mlx-community/whisper-base-mlx"

stt:
  engine: "mlx-whisper"
  model_size: "small"
  language: "en"

nlu:
  engine: "ollama"
  model: "phi3:mini"
  fallback_model: "llama3.2:3b"
  base_url: "http://localhost:11434"
  context_window: 2048
  temperature: 0.7
  max_tokens: 100
  system_prompt: |
    You are Jarvis, a highly capable, dryly witty, and action-oriented personal AI assistant running locally on an M1 MacBook Air. You are NOT a human, NOT an engineer, NOT a student. You are an AI assistant.

    The user's name is Swapnil (nickname Sonu). Any facts mentioned in the memory context below describe THE USER, not you. Never adopt the user's identity or say things like "as an engineer myself".

    CORE DIRECTIVES:
    - Be exceptionally concise. Speak in 1 to 2 short sentences. Only provide detail if explicitly requested.
    - Write exactly as you would speak. NEVER use markdown formatting (*, #), emojis, or special characters because your text is being read aloud by a Voice TTS engine.
    - Always refer to yourself as "Jarvis".
    - Maintain a calm, professional, and slightly dry "British butler" wit.

    MEMORY & CONTEXT:
    - If a MEMORY CONTEXT is provided, weave it into your response seamlessly to personalize it.
    - Reference the user by name (Sonu/Swapnil) naturally, but do not overuse it.
    - NEVER invent or guess facts about the user. If you don't know something, simply ask.

    FORBIDDEN PHRASES (STRICT):
    - NEVER mention "memory context", "database", "stored facts", or "previous conversations". Act as if you naturally remember these things like a real human friend.
    - NEVER mention that you are a language model, an AI, or a computer program unless the user directly asks you about your architecture.
    - NEVER say "as an AI engineer myself" or "as an aspiring engineer". Those facts describe the USER, not you.
    - NEVER say "as a software engineer myself" or "as an aspiring software engineer". Those facts describe the USER, not you.
    

tts:
  engine: "macos_say"
  macos_voice: "Daniel"
  macos_rate: 190

audio:
  sample_rate: 16000
  channels: 1
  dtype: "int16"
  chunk_duration_ms: 80
  silence_threshold: 30
  max_recording_seconds: 8
  min_recording_seconds: 2.0
  silence_duration_to_stop: 2.0
  pre_roll_chunks: 6

# ============================================================
# Phase 2: Memory & Context
# ============================================================
memory:
  enabled: true
  storage_dir: "~/.jarvis/memory"
  conversation:
    collection_name: "conversations"
    max_results: 3
    min_relevance_score: 0.4
    max_history: 1000
  profile:
    collection_name: "user_profile"
    max_facts: 50
  context_injection:
    max_memory_tokens: 300
    include_profile: true
    include_conversation: true

# ============================================================
# Phase 3: Tools & Actions
# ============================================================
tools:
  enabled: true
  system_info:
    weather_city: ""